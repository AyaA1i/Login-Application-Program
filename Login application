#include <bits/stdc++.h>
#include <regex>

using namespace std;

void Show_Options();//aya
void Register();//aya
void Username();//aya
void Full_Name();//aya
void Email();//aya
void Mobile();//aya
void Password();//mariam
void Save_Registration();//mariam
void Login();//amira
void Enter_Username();//amira
void Enter_Password();//amira
void Check_Login();//amira
void Change_Password();//amira

int main() {
    Show_Options();
    
}
void Show_Options(){
    string choice;
    cout << "______Welcome to Login Application______";
    cout << "Choose:\n1-Register\n2-Login\n3-Change Password\n4-Exit\nYour Choice is: ";
    getline(cin, choice, '\n');
    while (choice != "1" && choice != "2" && choice != "3" && choice != "4"){
        cout << "Invalid choice\n";
        cout << "Choose:\n1-Register\n2-Login\n3-Change Password\n4-Exit\nYour Choice is: ";
        getline(cin, choice, '\n');
    }
}
bool Check_password(const string& p){
    int upper=0, lower=0, digit=0, symbol=0;
    for(char i : p){
        if(isupper(i)){
            upper++;
        }
        else if(islower(i)){
            lower++;
        }
        else if(isdigit(i)){
            digit++;
        }
        else{
            symbol++;
        }
    }
    if (upper == 0 || lower == 0 || digit == 0 || symbol == 0){
        return false;
    }
    return true;
}
int Password(){
    string password1 = "b", password2 = "c";
    while(password1 != password2){
        password1 = "";
        password2 = "";
        char ch = 0;
        cout << "To make strong password:\n1- Enter a password whose length at least 12\n"
                "2- Your password should contain letters (upper and lower case), numbers and symbols\n";
        cout << "Your Password is: ";
        while(ch != 13){
            ch = getch();
            password1 += ch;
            if(ch != 13 && ch != 8){
                cout << "*";
            }
            if(ch == 8){
                password1.pop_back();
                cout << "\b \b";
            }
        }
        cout << "\n\n";
        while(password1.length() < 12 || !Check_password(password1)){
            password1 = "";
            password2 = "";
            char ch = 0;
            cout << "Weak password\n";
            cout << "To make strong password:\n1- Enter a password whose length at least 12\n"
                    "2- Your password should contain letters (upper and lower case), numbers and symbols\n";
            cout << "Your Password is: ";
            while(ch != 13){
                ch = getch();
                password1 += ch;
                if(ch != 13 && ch != 8){
                    cout << "*";
                }
                if(ch == 8){
                    password1.pop_back();
                    cout << "\b \b";
                }
            }
            cout << "\n\n";
        }
        ch = 0;
        cout << "Please enter the password again to confirm it: ";
        while(ch != 13){
            ch = getch();
            password2 += ch;
            if(ch != 13 && ch != 8){
                cout << "*";
            }
            if(ch == 8){
                password1.pop_back();
                cout << "\b \b";
            }
        }
        cout << "\n\n";
        if(password1 != password2){
            cout << "_______Passwords are not equivalent________\n\n";
        }
    }
    cout << "Password is confirmed successfully...\n\n";
}
void Mobile(){
    int  x =0 ;
    cout << "Enter your phone number :" << endl;
    while(x==0) {
        string PN;
        cin >> PN;
        regex number("01[1205][0-9]{8}");
        x = regex_match(PN, number);
        if (x == 0) {
            cout << "Please enter a valid phone number :" << endl;
        } else {
            cout<<"Your number has been saved ."<<endl;
        }
    }
}
void Email(){
    int  y =0 ;
    string FirstPart,SecondPart;
    cout << "Enter Email :" << endl;
    while(y==0 or FirstPart.length()>64 or SecondPart.length()>63 ) {
        string E;
        cin >> E;
        int at;
        for(int i =0;i<E.length();i++){
            if(E[i]=='@') {
                at=i;
                break;
            }
        }
        for(int i =0;i<at;i++){
            FirstPart+=E[i];
        }
        for(int i =at+1;i<E.length();i++){
            SecondPart+=E[i];
        }
        regex EMail("[a-zA-Z0-9#!%$‘&+*–/=?^_`{|}~]+(\\.[a-zA-Z0-9#!%$‘&+*–/=?^_`{|}~]+)?@[0-9]*[a-zA-Z]+((\\.[a-zA-Z0-9]+)*(-[a-zA-Z0-9]+)*)*");
        y = regex_match(E, EMail);
        if (y == 0 or FirstPart.length()>64 or SecondPart.length()>63) {
            cout << "Please enter a valid Email :" << endl;
        } else {
            cout<<"Your Email has been saved ."<<endl;
        }
    }
}
void Full_Name(){
    int  z =0 ;
    cout << "Enter your name :" << endl;
    while(z==0) {
        string name;
        cin >> name;
        regex valid("[A-Za-z_]+");
        z = regex_match(name, valid);
        if (z == 0) {
            cout << "Please enter a valid name :" << endl;
        } else {
            cout<<"Your name has been saved ."<<endl;
        }
    }

}
